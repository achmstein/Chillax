services:
  chillax-dashboard:
    image: "mcr.microsoft.com/dotnet/nightly/aspire-dashboard:latest"
    expose:
      - "18888"
      - "18889"
    networks:
      - "aspire"
    restart: "always"
  eventbus:
    image: "docker.io/library/rabbitmq:4.2"
    environment:
      RABBITMQ_DEFAULT_USER: "guest"
      RABBITMQ_DEFAULT_PASS: "${EVENTBUS_PASSWORD}"
    expose:
      - "5672"
    networks:
      - "aspire"
  postgres:
    image: "docker.io/ankane/pgvector:latest"
    environment:
      POSTGRES_HOST_AUTH_METHOD: "scram-sha-256"
      POSTGRES_INITDB_ARGS: "--auth-host=scram-sha-256 --auth-local=scram-sha-256"
      POSTGRES_USER: "postgres"
      POSTGRES_PASSWORD: "${POSTGRES_PASSWORD}"
    expose:
      - "5432"
    networks:
      - "aspire"
  pgadmin:
    image: "dpage/pgadmin4:9.7.0"
    environment:
      PGADMIN_DEFAULT_EMAIL: "admin@chillax.com"
      PGADMIN_DEFAULT_PASSWORD: "admin"
      PGADMIN_CONFIG_SERVER_MODE: "False"
    expose:
      - "80"
    depends_on:
      postgres:
        condition: "service_started"
    networks:
      - "aspire"
  keycloak:
    image: "quay.io/keycloak/keycloak:26.4"
    command:
      - "start"
      - "--import-realm"
    environment:
      KC_BOOTSTRAP_ADMIN_USERNAME: "admin"
      KC_BOOTSTRAP_ADMIN_PASSWORD: "${KEYCLOAK_PASSWORD}"
      KC_HEALTH_ENABLED: "true"
      KC_HTTP_ENABLED: "true"
      KC_HOSTNAME_STRICT: "false"
      KC_PROXY_HEADERS: "xforwarded"
      KC_FEATURES: "token-exchange,admin-fine-grained-authz:v1"
    expose:
      - "8080"
      - "9000"
    volumes:
      - type: "volume"
        target: "/opt/keycloak/data"
        source: "chillax.apphost-f31c4920f9-keycloak-data"
        read_only: false
      - type: "bind"
        target: "/opt/keycloak/data/import"
        source: "C:\\Users\\Admin\\source\\repos\\achmstein\\Chillax\\src\\Chillax.AppHost\\KeycloakConfiguration\\chillax-realm.json"
        read_only: true
    networks:
      - "aspire"
  catalog-api:
    image: "ghcr.io/achmstein/chillax-catalog:latest"
    environment:
      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES: "true"
      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES: "true"
      OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY: "in_memory"
      ASPNETCORE_FORWARDEDHEADERS_ENABLED: "true"
      HTTP_PORTS: "${CATALOG_API_PORT}"
      ConnectionStrings__eventbus: "amqp://guest:${EVENTBUS_PASSWORD}@eventbus:5672"
      EVENTBUS_HOST: "eventbus"
      EVENTBUS_PORT: "5672"
      EVENTBUS_USERNAME: "guest"
      EVENTBUS_PASSWORD: "${EVENTBUS_PASSWORD}"
      EVENTBUS_URI: "amqp://guest:${EVENTBUS_PASSWORD}@eventbus:5672"
      ConnectionStrings__catalogdb: "Host=postgres;Port=5432;Username=postgres;Password=${POSTGRES_PASSWORD};Database=catalogdb"
      CATALOGDB_HOST: "postgres"
      CATALOGDB_PORT: "5432"
      CATALOGDB_USERNAME: "postgres"
      CATALOGDB_PASSWORD: "${POSTGRES_PASSWORD}"
      CATALOGDB_URI: "postgresql://postgres:${POSTGRES_PASSWORD}@postgres:5432/catalogdb"
      CATALOGDB_JDBCCONNECTIONSTRING: "jdbc:postgresql://postgres:5432/catalogdb"
      CATALOGDB_DATABASE: "catalogdb"
      KEYCLOAK_HTTP: "http://keycloak:8080"
      services__keycloak__http__0: "http://keycloak:8080"
      KEYCLOAK_MANAGEMENT: "http://keycloak:9000"
      services__keycloak__management__0: "http://keycloak:9000"
      Identity__Url: "http://keycloak:8080/realms/chillax"
      Keycloak__Realm: "chillax"
      OTEL_EXPORTER_OTLP_ENDPOINT: "http://chillax-dashboard:18889"
      OTEL_EXPORTER_OTLP_PROTOCOL: "grpc"
      OTEL_SERVICE_NAME: "catalog-api"
    expose:
      - "${CATALOG_API_PORT}"
    depends_on:
      eventbus:
        condition: "service_started"
    networks:
      - "aspire"
    restart: "unless-stopped"
  ordering-api:
    image: "ghcr.io/achmstein/chillax-ordering:latest"
    environment:
      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES: "true"
      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES: "true"
      OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY: "in_memory"
      ASPNETCORE_FORWARDEDHEADERS_ENABLED: "true"
      HTTP_PORTS: "${ORDERING_API_PORT}"
      ConnectionStrings__eventbus: "amqp://guest:${EVENTBUS_PASSWORD}@eventbus:5672"
      EVENTBUS_HOST: "eventbus"
      EVENTBUS_PORT: "5672"
      EVENTBUS_USERNAME: "guest"
      EVENTBUS_PASSWORD: "${EVENTBUS_PASSWORD}"
      EVENTBUS_URI: "amqp://guest:${EVENTBUS_PASSWORD}@eventbus:5672"
      ConnectionStrings__orderingdb: "Host=postgres;Port=5432;Username=postgres;Password=${POSTGRES_PASSWORD};Database=orderingdb"
      ORDERINGDB_HOST: "postgres"
      ORDERINGDB_PORT: "5432"
      ORDERINGDB_USERNAME: "postgres"
      ORDERINGDB_PASSWORD: "${POSTGRES_PASSWORD}"
      ORDERINGDB_URI: "postgresql://postgres:${POSTGRES_PASSWORD}@postgres:5432/orderingdb"
      ORDERINGDB_JDBCCONNECTIONSTRING: "jdbc:postgresql://postgres:5432/orderingdb"
      ORDERINGDB_DATABASE: "orderingdb"
      KEYCLOAK_HTTP: "http://keycloak:8080"
      services__keycloak__http__0: "http://keycloak:8080"
      KEYCLOAK_MANAGEMENT: "http://keycloak:9000"
      services__keycloak__management__0: "http://keycloak:9000"
      Identity__Url: "http://keycloak:8080/realms/chillax"
      Keycloak__Realm: "chillax"
      OTEL_EXPORTER_OTLP_ENDPOINT: "http://chillax-dashboard:18889"
      OTEL_EXPORTER_OTLP_PROTOCOL: "grpc"
      OTEL_SERVICE_NAME: "ordering-api"
    expose:
      - "${ORDERING_API_PORT}"
    depends_on:
      eventbus:
        condition: "service_started"
      postgres:
        condition: "service_started"
    networks:
      - "aspire"
    restart: "unless-stopped"
  rooms-api:
    image: "ghcr.io/achmstein/chillax-rooms:latest"
    environment:
      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES: "true"
      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES: "true"
      OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY: "in_memory"
      ASPNETCORE_FORWARDEDHEADERS_ENABLED: "true"
      HTTP_PORTS: "${ROOMS_API_PORT}"
      ConnectionStrings__roomsdb: "Host=postgres;Port=5432;Username=postgres;Password=${POSTGRES_PASSWORD};Database=roomsdb"
      ROOMSDB_HOST: "postgres"
      ROOMSDB_PORT: "5432"
      ROOMSDB_USERNAME: "postgres"
      ROOMSDB_PASSWORD: "${POSTGRES_PASSWORD}"
      ROOMSDB_URI: "postgresql://postgres:${POSTGRES_PASSWORD}@postgres:5432/roomsdb"
      ROOMSDB_JDBCCONNECTIONSTRING: "jdbc:postgresql://postgres:5432/roomsdb"
      ROOMSDB_DATABASE: "roomsdb"
      ConnectionStrings__eventbus: "amqp://guest:${EVENTBUS_PASSWORD}@eventbus:5672"
      EVENTBUS_HOST: "eventbus"
      EVENTBUS_PORT: "5672"
      EVENTBUS_USERNAME: "guest"
      EVENTBUS_PASSWORD: "${EVENTBUS_PASSWORD}"
      EVENTBUS_URI: "amqp://guest:${EVENTBUS_PASSWORD}@eventbus:5672"
      KEYCLOAK_HTTP: "http://keycloak:8080"
      services__keycloak__http__0: "http://keycloak:8080"
      KEYCLOAK_MANAGEMENT: "http://keycloak:9000"
      services__keycloak__management__0: "http://keycloak:9000"
      Identity__Url: "http://keycloak:8080/realms/chillax"
      Keycloak__Realm: "chillax"
      OTEL_EXPORTER_OTLP_ENDPOINT: "http://chillax-dashboard:18889"
      OTEL_EXPORTER_OTLP_PROTOCOL: "grpc"
      OTEL_SERVICE_NAME: "rooms-api"
    expose:
      - "${ROOMS_API_PORT}"
    depends_on:
      postgres:
        condition: "service_started"
      eventbus:
        condition: "service_started"
    networks:
      - "aspire"
    restart: "unless-stopped"
  identity-api:
    image: "ghcr.io/achmstein/chillax-identity:latest"
    environment:
      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES: "true"
      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES: "true"
      OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY: "in_memory"
      ASPNETCORE_FORWARDEDHEADERS_ENABLED: "true"
      HTTP_PORTS: "${IDENTITY_API_PORT}"
      KEYCLOAK_HTTP: "http://keycloak:8080"
      services__keycloak__http__0: "http://keycloak:8080"
      KEYCLOAK_MANAGEMENT: "http://keycloak:9000"
      services__keycloak__management__0: "http://keycloak:9000"
      Identity__Url: "http://keycloak:8080/realms/chillax"
      Keycloak__Realm: "chillax"
      Keycloak__AdminClientId: "identity-api-service"
      Keycloak__AdminClientSecret: "identity-api-secret"
      OTEL_EXPORTER_OTLP_ENDPOINT: "http://chillax-dashboard:18889"
      OTEL_EXPORTER_OTLP_PROTOCOL: "grpc"
      OTEL_SERVICE_NAME: "identity-api"
    expose:
      - "${IDENTITY_API_PORT}"
    depends_on:
      keycloak:
        condition: "service_started"
    networks:
      - "aspire"
    restart: "unless-stopped"
  loyalty-api:
    image: "ghcr.io/achmstein/chillax-loyalty:latest"
    environment:
      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES: "true"
      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES: "true"
      OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY: "in_memory"
      ASPNETCORE_FORWARDEDHEADERS_ENABLED: "true"
      HTTP_PORTS: "${LOYALTY_API_PORT}"
      ConnectionStrings__loyaltydb: "Host=postgres;Port=5432;Username=postgres;Password=${POSTGRES_PASSWORD};Database=loyaltydb"
      LOYALTYDB_HOST: "postgres"
      LOYALTYDB_PORT: "5432"
      LOYALTYDB_USERNAME: "postgres"
      LOYALTYDB_PASSWORD: "${POSTGRES_PASSWORD}"
      LOYALTYDB_URI: "postgresql://postgres:${POSTGRES_PASSWORD}@postgres:5432/loyaltydb"
      LOYALTYDB_JDBCCONNECTIONSTRING: "jdbc:postgresql://postgres:5432/loyaltydb"
      LOYALTYDB_DATABASE: "loyaltydb"
      ConnectionStrings__eventbus: "amqp://guest:${EVENTBUS_PASSWORD}@eventbus:5672"
      EVENTBUS_HOST: "eventbus"
      EVENTBUS_PORT: "5672"
      EVENTBUS_USERNAME: "guest"
      EVENTBUS_PASSWORD: "${EVENTBUS_PASSWORD}"
      EVENTBUS_URI: "amqp://guest:${EVENTBUS_PASSWORD}@eventbus:5672"
      KEYCLOAK_HTTP: "http://keycloak:8080"
      services__keycloak__http__0: "http://keycloak:8080"
      KEYCLOAK_MANAGEMENT: "http://keycloak:9000"
      services__keycloak__management__0: "http://keycloak:9000"
      Identity__Url: "http://keycloak:8080/realms/chillax"
      Keycloak__Realm: "chillax"
      OTEL_EXPORTER_OTLP_ENDPOINT: "http://chillax-dashboard:18889"
      OTEL_EXPORTER_OTLP_PROTOCOL: "grpc"
      OTEL_SERVICE_NAME: "loyalty-api"
    expose:
      - "${LOYALTY_API_PORT}"
    depends_on:
      postgres:
        condition: "service_started"
      eventbus:
        condition: "service_started"
    networks:
      - "aspire"
    restart: "unless-stopped"
  notification-api:
    image: "ghcr.io/achmstein/chillax-notification:latest"
    environment:
      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES: "true"
      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES: "true"
      OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY: "in_memory"
      ASPNETCORE_FORWARDEDHEADERS_ENABLED: "true"
      HTTP_PORTS: "${NOTIFICATION_API_PORT}"
      ConnectionStrings__notificationdb: "Host=postgres;Port=5432;Username=postgres;Password=${POSTGRES_PASSWORD};Database=notificationdb"
      NOTIFICATIONDB_HOST: "postgres"
      NOTIFICATIONDB_PORT: "5432"
      NOTIFICATIONDB_USERNAME: "postgres"
      NOTIFICATIONDB_PASSWORD: "${POSTGRES_PASSWORD}"
      NOTIFICATIONDB_URI: "postgresql://postgres:${POSTGRES_PASSWORD}@postgres:5432/notificationdb"
      NOTIFICATIONDB_JDBCCONNECTIONSTRING: "jdbc:postgresql://postgres:5432/notificationdb"
      NOTIFICATIONDB_DATABASE: "notificationdb"
      ConnectionStrings__eventbus: "amqp://guest:${EVENTBUS_PASSWORD}@eventbus:5672"
      EVENTBUS_HOST: "eventbus"
      EVENTBUS_PORT: "5672"
      EVENTBUS_USERNAME: "guest"
      EVENTBUS_PASSWORD: "${EVENTBUS_PASSWORD}"
      EVENTBUS_URI: "amqp://guest:${EVENTBUS_PASSWORD}@eventbus:5672"
      KEYCLOAK_HTTP: "http://keycloak:8080"
      services__keycloak__http__0: "http://keycloak:8080"
      KEYCLOAK_MANAGEMENT: "http://keycloak:9000"
      services__keycloak__management__0: "http://keycloak:9000"
      Identity__Url: "http://keycloak:8080/realms/chillax"
      Keycloak__Realm: "chillax"
      OTEL_EXPORTER_OTLP_ENDPOINT: "http://chillax-dashboard:18889"
      OTEL_EXPORTER_OTLP_PROTOCOL: "grpc"
      OTEL_SERVICE_NAME: "notification-api"
    expose:
      - "${NOTIFICATION_API_PORT}"
    depends_on:
      postgres:
        condition: "service_started"
      eventbus:
        condition: "service_started"
    networks:
      - "aspire"
    restart: "unless-stopped"
  accounts-api:
    image: "ghcr.io/achmstein/chillax-accounts:latest"
    environment:
      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES: "true"
      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES: "true"
      OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY: "in_memory"
      ASPNETCORE_FORWARDEDHEADERS_ENABLED: "true"
      HTTP_PORTS: "${ACCOUNTS_API_PORT}"
      ConnectionStrings__accountsdb: "Host=postgres;Port=5432;Username=postgres;Password=${POSTGRES_PASSWORD};Database=accountsdb"
      ACCOUNTSDB_HOST: "postgres"
      ACCOUNTSDB_PORT: "5432"
      ACCOUNTSDB_USERNAME: "postgres"
      ACCOUNTSDB_PASSWORD: "${POSTGRES_PASSWORD}"
      ACCOUNTSDB_URI: "postgresql://postgres:${POSTGRES_PASSWORD}@postgres:5432/accountsdb"
      ACCOUNTSDB_JDBCCONNECTIONSTRING: "jdbc:postgresql://postgres:5432/accountsdb"
      ACCOUNTSDB_DATABASE: "accountsdb"
      KEYCLOAK_HTTP: "http://keycloak:8080"
      services__keycloak__http__0: "http://keycloak:8080"
      KEYCLOAK_MANAGEMENT: "http://keycloak:9000"
      services__keycloak__management__0: "http://keycloak:9000"
      Identity__Url: "http://keycloak:8080/realms/chillax"
      Keycloak__Realm: "chillax"
      OTEL_EXPORTER_OTLP_ENDPOINT: "http://chillax-dashboard:18889"
      OTEL_EXPORTER_OTLP_PROTOCOL: "grpc"
      OTEL_SERVICE_NAME: "accounts-api"
    expose:
      - "${ACCOUNTS_API_PORT}"
    depends_on:
      postgres:
        condition: "service_started"
    networks:
      - "aspire"
    restart: "unless-stopped"
  mobile-bff:
    image: "mcr.microsoft.com/dotnet/nightly/yarp:2.3.0-preview.4"
    command:
      - "/app/yarp.dll"
    entrypoint:
      - "dotnet"
    environment:
      ASPNETCORE_ENVIRONMENT: "Production"
      CATALOG-API_HTTP: "http://catalog-api:${CATALOG_API_PORT}"
      REVERSEPROXY__ROUTES__route0__MATCH__PATH: "/catalog-api/api/catalog/items"
      REVERSEPROXY__ROUTES__route0__MATCH__QUERYPARAMETERS__0__NAME: "api-version"
      REVERSEPROXY__ROUTES__route0__MATCH__QUERYPARAMETERS__0__VALUES__0: "1.0"
      REVERSEPROXY__ROUTES__route0__MATCH__QUERYPARAMETERS__0__VALUES__1: "1"
      REVERSEPROXY__ROUTES__route0__MATCH__QUERYPARAMETERS__0__VALUES__2: "2.0"
      REVERSEPROXY__ROUTES__route0__MATCH__QUERYPARAMETERS__0__ISCASESENSITIVE: "False"
      REVERSEPROXY__ROUTES__route0__CLUSTERID: "cluster_catalog-api"
      REVERSEPROXY__ROUTES__route0__TRANSFORMS__0__PathRemovePrefix: "/catalog-api"
      REVERSEPROXY__ROUTES__route0__TRANSFORMS__1__X-Forwarded: "Set"
      REVERSEPROXY__ROUTES__route0__TRANSFORMS__1__HeaderPrefix: "X-Forwarded-"
      REVERSEPROXY__ROUTES__route1__MATCH__PATH: "/catalog-api/api/catalog/items/by"
      REVERSEPROXY__ROUTES__route1__MATCH__QUERYPARAMETERS__0__NAME: "api-version"
      REVERSEPROXY__ROUTES__route1__MATCH__QUERYPARAMETERS__0__VALUES__0: "1.0"
      REVERSEPROXY__ROUTES__route1__MATCH__QUERYPARAMETERS__0__VALUES__1: "1"
      REVERSEPROXY__ROUTES__route1__MATCH__QUERYPARAMETERS__0__VALUES__2: "2.0"
      REVERSEPROXY__ROUTES__route1__MATCH__QUERYPARAMETERS__0__ISCASESENSITIVE: "False"
      REVERSEPROXY__ROUTES__route1__CLUSTERID: "cluster_catalog-api"
      REVERSEPROXY__ROUTES__route1__TRANSFORMS__0__PathRemovePrefix: "/catalog-api"
      REVERSEPROXY__ROUTES__route1__TRANSFORMS__1__X-Forwarded: "Set"
      REVERSEPROXY__ROUTES__route1__TRANSFORMS__1__HeaderPrefix: "X-Forwarded-"
      REVERSEPROXY__ROUTES__route2__MATCH__PATH: "/catalog-api/api/catalog/items/{id}"
      REVERSEPROXY__ROUTES__route2__MATCH__QUERYPARAMETERS__0__NAME: "api-version"
      REVERSEPROXY__ROUTES__route2__MATCH__QUERYPARAMETERS__0__VALUES__0: "1.0"
      REVERSEPROXY__ROUTES__route2__MATCH__QUERYPARAMETERS__0__VALUES__1: "1"
      REVERSEPROXY__ROUTES__route2__MATCH__QUERYPARAMETERS__0__VALUES__2: "2.0"
      REVERSEPROXY__ROUTES__route2__MATCH__QUERYPARAMETERS__0__ISCASESENSITIVE: "False"
      REVERSEPROXY__ROUTES__route2__CLUSTERID: "cluster_catalog-api"
      REVERSEPROXY__ROUTES__route2__TRANSFORMS__0__PathRemovePrefix: "/catalog-api"
      REVERSEPROXY__ROUTES__route2__TRANSFORMS__1__X-Forwarded: "Set"
      REVERSEPROXY__ROUTES__route2__TRANSFORMS__1__HeaderPrefix: "X-Forwarded-"
      REVERSEPROXY__ROUTES__route3__MATCH__PATH: "/catalog-api/api/catalog/items/by/{name}"
      REVERSEPROXY__ROUTES__route3__MATCH__QUERYPARAMETERS__0__NAME: "api-version"
      REVERSEPROXY__ROUTES__route3__MATCH__QUERYPARAMETERS__0__VALUES__0: "1.0"
      REVERSEPROXY__ROUTES__route3__MATCH__QUERYPARAMETERS__0__VALUES__1: "1"
      REVERSEPROXY__ROUTES__route3__MATCH__QUERYPARAMETERS__0__ISCASESENSITIVE: "False"
      REVERSEPROXY__ROUTES__route3__CLUSTERID: "cluster_catalog-api"
      REVERSEPROXY__ROUTES__route3__TRANSFORMS__0__PathRemovePrefix: "/catalog-api"
      REVERSEPROXY__ROUTES__route3__TRANSFORMS__1__X-Forwarded: "Set"
      REVERSEPROXY__ROUTES__route3__TRANSFORMS__1__HeaderPrefix: "X-Forwarded-"
      REVERSEPROXY__ROUTES__route4__MATCH__PATH: "/catalog-api/api/catalog/items/withsemanticrelevance/{text}"
      REVERSEPROXY__ROUTES__route4__MATCH__QUERYPARAMETERS__0__NAME: "api-version"
      REVERSEPROXY__ROUTES__route4__MATCH__QUERYPARAMETERS__0__VALUES__0: "1.0"
      REVERSEPROXY__ROUTES__route4__MATCH__QUERYPARAMETERS__0__VALUES__1: "1"
      REVERSEPROXY__ROUTES__route4__MATCH__QUERYPARAMETERS__0__ISCASESENSITIVE: "False"
      REVERSEPROXY__ROUTES__route4__CLUSTERID: "cluster_catalog-api"
      REVERSEPROXY__ROUTES__route4__TRANSFORMS__0__PathRemovePrefix: "/catalog-api"
      REVERSEPROXY__ROUTES__route4__TRANSFORMS__1__X-Forwarded: "Set"
      REVERSEPROXY__ROUTES__route4__TRANSFORMS__1__HeaderPrefix: "X-Forwarded-"
      REVERSEPROXY__ROUTES__route5__MATCH__PATH: "/catalog-api/api/catalog/items/withsemanticrelevance"
      REVERSEPROXY__ROUTES__route5__MATCH__QUERYPARAMETERS__0__NAME: "api-version"
      REVERSEPROXY__ROUTES__route5__MATCH__QUERYPARAMETERS__0__VALUES__0: "2.0"
      REVERSEPROXY__ROUTES__route5__MATCH__QUERYPARAMETERS__0__ISCASESENSITIVE: "False"
      REVERSEPROXY__ROUTES__route5__CLUSTERID: "cluster_catalog-api"
      REVERSEPROXY__ROUTES__route5__TRANSFORMS__0__PathRemovePrefix: "/catalog-api"
      REVERSEPROXY__ROUTES__route5__TRANSFORMS__1__X-Forwarded: "Set"
      REVERSEPROXY__ROUTES__route5__TRANSFORMS__1__HeaderPrefix: "X-Forwarded-"
      REVERSEPROXY__ROUTES__route6__MATCH__PATH: "/catalog-api/api/catalog/items/type/{typeId}"
      REVERSEPROXY__ROUTES__route6__MATCH__QUERYPARAMETERS__0__NAME: "api-version"
      REVERSEPROXY__ROUTES__route6__MATCH__QUERYPARAMETERS__0__VALUES__0: "1.0"
      REVERSEPROXY__ROUTES__route6__MATCH__QUERYPARAMETERS__0__VALUES__1: "1"
      REVERSEPROXY__ROUTES__route6__MATCH__QUERYPARAMETERS__0__VALUES__2: "2.0"
      REVERSEPROXY__ROUTES__route6__MATCH__QUERYPARAMETERS__0__ISCASESENSITIVE: "False"
      REVERSEPROXY__ROUTES__route6__CLUSTERID: "cluster_catalog-api"
      REVERSEPROXY__ROUTES__route6__TRANSFORMS__0__PathRemovePrefix: "/catalog-api"
      REVERSEPROXY__ROUTES__route6__TRANSFORMS__1__X-Forwarded: "Set"
      REVERSEPROXY__ROUTES__route6__TRANSFORMS__1__HeaderPrefix: "X-Forwarded-"
      REVERSEPROXY__ROUTES__route7__MATCH__PATH: "/catalog-api/api/catalog/catalogTypes"
      REVERSEPROXY__ROUTES__route7__MATCH__QUERYPARAMETERS__0__NAME: "api-version"
      REVERSEPROXY__ROUTES__route7__MATCH__QUERYPARAMETERS__0__VALUES__0: "1.0"
      REVERSEPROXY__ROUTES__route7__MATCH__QUERYPARAMETERS__0__VALUES__1: "1"
      REVERSEPROXY__ROUTES__route7__MATCH__QUERYPARAMETERS__0__VALUES__2: "2.0"
      REVERSEPROXY__ROUTES__route7__MATCH__QUERYPARAMETERS__0__ISCASESENSITIVE: "False"
      REVERSEPROXY__ROUTES__route7__CLUSTERID: "cluster_catalog-api"
      REVERSEPROXY__ROUTES__route7__TRANSFORMS__0__PathRemovePrefix: "/catalog-api"
      REVERSEPROXY__ROUTES__route7__TRANSFORMS__1__X-Forwarded: "Set"
      REVERSEPROXY__ROUTES__route7__TRANSFORMS__1__HeaderPrefix: "X-Forwarded-"
      REVERSEPROXY__ROUTES__route8__MATCH__PATH: "/catalog-api/api/catalog/items/{id}/pic"
      REVERSEPROXY__ROUTES__route8__MATCH__QUERYPARAMETERS__0__NAME: "api-version"
      REVERSEPROXY__ROUTES__route8__MATCH__QUERYPARAMETERS__0__VALUES__0: "1.0"
      REVERSEPROXY__ROUTES__route8__MATCH__QUERYPARAMETERS__0__VALUES__1: "1"
      REVERSEPROXY__ROUTES__route8__MATCH__QUERYPARAMETERS__0__VALUES__2: "2.0"
      REVERSEPROXY__ROUTES__route8__MATCH__QUERYPARAMETERS__0__ISCASESENSITIVE: "False"
      REVERSEPROXY__ROUTES__route8__CLUSTERID: "cluster_catalog-api"
      REVERSEPROXY__ROUTES__route8__TRANSFORMS__0__PathRemovePrefix: "/catalog-api"
      REVERSEPROXY__ROUTES__route8__TRANSFORMS__1__X-Forwarded: "Set"
      REVERSEPROXY__ROUTES__route8__TRANSFORMS__1__HeaderPrefix: "X-Forwarded-"
      REVERSEPROXY__ROUTES__route9__MATCH__PATH: "/api/catalog/items/{id}/pic"
      REVERSEPROXY__ROUTES__route9__CLUSTERID: "cluster_catalog-api"
      REVERSEPROXY__ROUTES__route9__TRANSFORMS__0__X-Forwarded: "Set"
      REVERSEPROXY__ROUTES__route9__TRANSFORMS__0__HeaderPrefix: "X-Forwarded-"
      REVERSEPROXY__ROUTES__route10__MATCH__PATH: "/api/catalog/{*any}"
      REVERSEPROXY__ROUTES__route10__MATCH__QUERYPARAMETERS__0__NAME: "api-version"
      REVERSEPROXY__ROUTES__route10__MATCH__QUERYPARAMETERS__0__VALUES__0: "1.0"
      REVERSEPROXY__ROUTES__route10__MATCH__QUERYPARAMETERS__0__VALUES__1: "1"
      REVERSEPROXY__ROUTES__route10__MATCH__QUERYPARAMETERS__0__VALUES__2: "2.0"
      REVERSEPROXY__ROUTES__route10__MATCH__QUERYPARAMETERS__0__ISCASESENSITIVE: "False"
      REVERSEPROXY__ROUTES__route10__CLUSTERID: "cluster_catalog-api"
      REVERSEPROXY__ROUTES__route10__TRANSFORMS__0__X-Forwarded: "Set"
      REVERSEPROXY__ROUTES__route10__TRANSFORMS__0__HeaderPrefix: "X-Forwarded-"
      REVERSEPROXY__ROUTES__route11__MATCH__PATH: "/api/orders/{*any}"
      REVERSEPROXY__ROUTES__route11__MATCH__QUERYPARAMETERS__0__NAME: "api-version"
      REVERSEPROXY__ROUTES__route11__MATCH__QUERYPARAMETERS__0__VALUES__0: "1.0"
      REVERSEPROXY__ROUTES__route11__MATCH__QUERYPARAMETERS__0__VALUES__1: "1"
      REVERSEPROXY__ROUTES__route11__MATCH__QUERYPARAMETERS__0__ISCASESENSITIVE: "False"
      REVERSEPROXY__ROUTES__route11__CLUSTERID: "cluster_ordering-api"
      REVERSEPROXY__ROUTES__route12__MATCH__PATH: "/api/rooms/{*any}"
      REVERSEPROXY__ROUTES__route12__MATCH__QUERYPARAMETERS__0__NAME: "api-version"
      REVERSEPROXY__ROUTES__route12__MATCH__QUERYPARAMETERS__0__VALUES__0: "1.0"
      REVERSEPROXY__ROUTES__route12__MATCH__QUERYPARAMETERS__0__VALUES__1: "1"
      REVERSEPROXY__ROUTES__route12__MATCH__QUERYPARAMETERS__0__ISCASESENSITIVE: "False"
      REVERSEPROXY__ROUTES__route12__CLUSTERID: "cluster_rooms-api"
      REVERSEPROXY__ROUTES__route13__MATCH__PATH: "/api/sessions/{*any}"
      REVERSEPROXY__ROUTES__route13__MATCH__QUERYPARAMETERS__0__NAME: "api-version"
      REVERSEPROXY__ROUTES__route13__MATCH__QUERYPARAMETERS__0__VALUES__0: "1.0"
      REVERSEPROXY__ROUTES__route13__MATCH__QUERYPARAMETERS__0__VALUES__1: "1"
      REVERSEPROXY__ROUTES__route13__MATCH__QUERYPARAMETERS__0__ISCASESENSITIVE: "False"
      REVERSEPROXY__ROUTES__route13__CLUSTERID: "cluster_rooms-api"
      REVERSEPROXY__ROUTES__route14__MATCH__PATH: "/api/identity/{*any}"
      REVERSEPROXY__ROUTES__route14__CLUSTERID: "cluster_identity-api"
      REVERSEPROXY__ROUTES__route15__MATCH__PATH: "/api/loyalty/{*any}"
      REVERSEPROXY__ROUTES__route15__MATCH__QUERYPARAMETERS__0__NAME: "api-version"
      REVERSEPROXY__ROUTES__route15__MATCH__QUERYPARAMETERS__0__VALUES__0: "1.0"
      REVERSEPROXY__ROUTES__route15__MATCH__QUERYPARAMETERS__0__VALUES__1: "1"
      REVERSEPROXY__ROUTES__route15__MATCH__QUERYPARAMETERS__0__ISCASESENSITIVE: "False"
      REVERSEPROXY__ROUTES__route15__CLUSTERID: "cluster_loyalty-api"
      REVERSEPROXY__ROUTES__route16__MATCH__PATH: "/api/notifications/{*any}"
      REVERSEPROXY__ROUTES__route16__CLUSTERID: "cluster_notification-api"
      REVERSEPROXY__ROUTES__route17__MATCH__PATH: "/api/accounts/{*any}"
      REVERSEPROXY__ROUTES__route17__MATCH__QUERYPARAMETERS__0__NAME: "api-version"
      REVERSEPROXY__ROUTES__route17__MATCH__QUERYPARAMETERS__0__VALUES__0: "1.0"
      REVERSEPROXY__ROUTES__route17__MATCH__QUERYPARAMETERS__0__VALUES__1: "1"
      REVERSEPROXY__ROUTES__route17__MATCH__QUERYPARAMETERS__0__ISCASESENSITIVE: "False"
      REVERSEPROXY__ROUTES__route17__CLUSTERID: "cluster_accounts-api"
      REVERSEPROXY__ROUTES__route18__MATCH__PATH: "/auth/{*any}"
      REVERSEPROXY__ROUTES__route18__CLUSTERID: "cluster_keycloak"
      REVERSEPROXY__ROUTES__route18__TRANSFORMS__0__PathRemovePrefix: "/auth"
      REVERSEPROXY__CLUSTERS__cluster_catalog-api__DESTINATIONS__destination1__ADDRESS: "https+http://catalog-api"
      REVERSEPROXY__CLUSTERS__cluster_ordering-api__DESTINATIONS__destination1__ADDRESS: "http://_http.ordering-api"
      REVERSEPROXY__CLUSTERS__cluster_rooms-api__DESTINATIONS__destination1__ADDRESS: "http://_http.rooms-api"
      REVERSEPROXY__CLUSTERS__cluster_identity-api__DESTINATIONS__destination1__ADDRESS: "http://_http.identity-api"
      REVERSEPROXY__CLUSTERS__cluster_loyalty-api__DESTINATIONS__destination1__ADDRESS: "http://_http.loyalty-api"
      REVERSEPROXY__CLUSTERS__cluster_notification-api__DESTINATIONS__destination1__ADDRESS: "http://_http.notification-api"
      REVERSEPROXY__CLUSTERS__cluster_accounts-api__DESTINATIONS__destination1__ADDRESS: "http://_http.accounts-api"
      REVERSEPROXY__CLUSTERS__cluster_keycloak__DESTINATIONS__destination1__ADDRESS: "http://_http.keycloak"
      services__catalog-api__http__0: "http://catalog-api:${CATALOG_API_PORT}"
      CATALOG-API_HTTPS: "https://catalog-api:${CATALOG_API_PORT}"
      ORDERING-API_HTTP: "http://ordering-api:${ORDERING_API_PORT}"
      services__ordering-api__http__0: "http://ordering-api:${ORDERING_API_PORT}"
      ROOMS-API_HTTP: "http://rooms-api:${ROOMS_API_PORT}"
      services__rooms-api__http__0: "http://rooms-api:${ROOMS_API_PORT}"
      IDENTITY-API_HTTP: "http://identity-api:${IDENTITY_API_PORT}"
      services__identity-api__http__0: "http://identity-api:${IDENTITY_API_PORT}"
      LOYALTY-API_HTTP: "http://loyalty-api:${LOYALTY_API_PORT}"
      services__loyalty-api__http__0: "http://loyalty-api:${LOYALTY_API_PORT}"
      NOTIFICATION-API_HTTP: "http://notification-api:${NOTIFICATION_API_PORT}"
      services__notification-api__http__0: "http://notification-api:${NOTIFICATION_API_PORT}"
      ACCOUNTS-API_HTTP: "http://accounts-api:${ACCOUNTS_API_PORT}"
      services__accounts-api__http__0: "http://accounts-api:${ACCOUNTS_API_PORT}"
      KEYCLOAK_HTTP: "http://keycloak:8080"
      services__keycloak__http__0: "http://keycloak:8080"
      OTEL_EXPORTER_OTLP_ENDPOINT: "http://chillax-dashboard:18889"
      OTEL_EXPORTER_OTLP_PROTOCOL: "grpc"
      OTEL_SERVICE_NAME: "mobile-bff"
    ports:
      - "80:5000"
    networks:
      - "aspire"
networks:
  aspire:
    driver: "bridge"
volumes:
  chillax.apphost-f31c4920f9-keycloak-data:
    driver: "local"
